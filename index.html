<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title id="pageTitle">Snapchat Title Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Bangers&display=swap" rel="stylesheet">
  <style>
    :root {
      --snap-yellow: #FFFC00;
      --snap-black: #1E1E1E;
      --snap-white: #FFFFFF;
      --background-color: #F0F2F5;
      --card-color: #FFFFFF;
      --text-color: #333;
      --shadow-dark: rgba(0, 0, 0, 0.1);
      --error-color: #ff0000;
      --primary-gradient: linear-gradient(145deg, #ffea00, #ffdd00);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: 50px 15px; color: var(--text-color); }
    .header { text-align: center; margin-bottom: 40px; }
    .logo-generator { display: block; margin: 0 auto 10px; width: 80px; height: 80px; color: var(--snap-yellow); }
    h1 { font-family: 'Bangers', cursive; color: var(--snap-black); font-size: 3em; margin: 0; text-shadow: 4px 4px 0 var(--snap-yellow), -4px -4px 0 rgba(0, 0, 0, 0.1); line-height: 1; }
    .lang-selector { text-align: center; margin-top: 20px; margin-bottom: 35px; padding: 15px; background-color: var(--card-color); border-radius: 12px; box-shadow: 0 6px 20px var(--shadow-dark); width: 100%; max-width: 400px; }
    select { padding: 12px 18px; font-size: 16px; border-radius: 8px; border: 2px solid var(--snap-yellow); background-color: var(--card-color); color: var(--text-color); cursor: pointer; width: 100%; }
    p { text-align: center; margin: 15px 0; font-size: 1.1em; font-weight: 600; max-width: 600px; }
    input { display: block; width: 100%; margin: 20px 0; padding: 18px; font-size: 18px; border: 2px solid var(--snap-yellow); border-radius: 12px; background-color: var(--card-color); color: var(--text-color); box-sizing: border-box; transition: all 0.3s ease; }
    input:focus { border-color: var(--snap-yellow); outline: none; box-shadow: 0 0 5px rgba(255, 240, 0, 0.7); }
    .error { border-color: var(--error-color) !important; animation: shake 0.5s; }
    @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-6px); } 50% { transform: translateX(6px); } 75% { transform: translateX(-6px); } 100% { transform: translateX(0); } }
    button { display: block; width: 100%; padding: 18px; font-size: 1.2em; font-weight: 700; color: var(--snap-black); border: none; border-radius: 12px; cursor: pointer; background: var(--primary-gradient); transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 6px 0 var(--snap-yellow); margin-bottom: 15px; }
    button:hover { transform: translateY(-3px); box-shadow: 0 9px 0 #e6e600; }
    button:active { transform: translateY(3px); box-shadow: 0 3px 0 #e6e600; }
    #titles { margin-top: 25px; width: 100%; max-width: 900px; }
    .title-container { display: flex; align-items: center; justify-content: space-between; background-color: var(--card-color); padding: 16px; margin: 12px 0; border-radius: 12px; box-shadow: 0 6px 20px var(--shadow-dark); border-left: 6px solid var(--snap-black); font-size: 1.05em; font-weight: 600; border-top: 2px solid var(--snap-yellow); }
    .title-text { flex-grow: 1; text-align: inherit; margin-right: 10px; }
    .copy-btn { display: inline-block; padding: 6px; font-size: 1.2em; font-weight: 700; color: var(--snap-black); border: none; border-radius: 50%; cursor: pointer; background-color: var(--snap-yellow); transition: all 0.3s ease; }
    .copy-btn:hover { background-color: #e6e600; }
    .copy-btn:active { background-color: #b8b800; }
    .donate-section { text-align: center; margin-top: 50px; padding: 25px; border-top: 1px solid #ddd; background-color: var(--card-color); border-radius: 12px; box-shadow: 0 6px 20px var(--shadow-dark); width: 100%; max-width: 600px; }
    .donate-section button { background-color: var(--snap-yellow); box-shadow: 0 6px 0 #ccc; color: var(--snap-black); font-weight: 700; border-radius: 12px; padding: 15px 25px; }
    .donate-section button:hover { background-color: #e6e600; }
    .donate-section button:active { background-color: #b8b800; }
    @media (max-width: 600px) { h1 { font-size: 2.2em; } .title-container { flex-direction: column; text-align: center; } .copy-btn { margin-top: 10px; width: 100%; } }
  </style>
</head>
<body>
  <div class="header">
    <svg class="logo-generator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM9 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6 0c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 8c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z"/>
    </svg>
    <h1 id="mainTitle">Snap Titles AI âš¡ï¸</h1>
  </div>

  <div class="lang-selector">
    <label for="langSelect">ğŸŒ Language: </label>
    <select id="langSelect">
      <option value="en">ğŸ‡ºğŸ‡¸ English</option>
      <option value="ar">ğŸ‡¸ğŸ‡¦ Arabic</option>
      <option value="fr">ğŸ‡«ğŸ‡· French</option>
      <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
      <option value="de">ğŸ‡©ğŸ‡ª German</option>
      <option value="it">ğŸ‡®ğŸ‡¹ Italian</option>
    </select>
  </div>

  <p id="description">Enter your video topic (e.g., Cat Fails, Easy Makeup) for 10 AI-powered titles!</p>
  <input type="text" id="topicInput" placeholder="e.g., Magic Tricks, Cooking Hacks" maxlength="100" />
  <button id="generateBtn" type="button">Generate 10 Titles</button>
  <button id="resetBtn" type="button">Reset</button>
  <div id="titles"></div>

  <div class="donate-section">
    <p>Support our project and help us create more tools like this! ğŸ™</p>
    <button id="donateBtn" type="button" onclick="window.open('https://ko-fi.com/houssamrais', '_blank')">ğŸ’° Donate to Support Development</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const translations = {
        en: { pageTitle: "Snapchat Title Generator", mainTitle: "Snap Titles AI âš¡ï¸", description: "Enter your video topic (e.g., Cat Fails, Easy Makeup) for 10 AI-powered titles!", placeholder: "e.g., Magic Tricks, Cooking Hacks", button: "Generate 10 Titles", reset: "Reset", alert: "Please enter a topic!" },
        ar: { pageTitle: "Ù…ÙˆÙ„Ø¯ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø³Ù†Ø§Ø¨ Ø´Ø§Øª", mainTitle: "Ø¹Ù†Ø§ÙˆÙŠÙ† Ø³Ù†Ø§Ø¨ AI âš¡ï¸", description: "Ø£Ø¯Ø®Ù„ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 10 Ø¹Ù†Ø§ÙˆÙŠÙ† Ù…ÙÙˆÙ„Ø¯Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ!", placeholder: "Ù…Ø«Ø§Ù„: Ø®Ø¯Ø¹ Ø³Ø­Ø±ÙŠØ©ØŒ ÙˆØµÙØ§Øª Ø·Ø¨Ø®", button: "ØªÙˆÙ„ÙŠØ¯ 10 Ø¹Ù†Ø§ÙˆÙŠÙ†", reset: "Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·", alert: "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹!" },
        fr: { pageTitle: "GÃ©nÃ©rateur de titres Snapchat", mainTitle: "Titres Snap AI âš¡ï¸", description: "Entrez le sujet de votre vidÃ©o pour 10 titres gÃ©nÃ©rÃ©s par IA !", placeholder: "ex: Tours de magie, Astuces cuisine", button: "GÃ©nÃ©rer 10 titres", reset: "RÃ©initialiser", alert: "Veuillez entrer un sujet !" }
      };
      let currentLang = 'en';
      const langSelect = document.getElementById('langSelect');
      const description = document.getElementById('description');
      const pageTitle = document.getElementById('pageTitle');
      const mainTitle = document.getElementById('mainTitle');
      const topicInput = document.getElementById('topicInput');
      const generateBtn = document.getElementById('generateBtn');
      const resetBtn = document.getElementById('resetBtn');
      const titlesDiv = document.getElementById('titles');

      function applyLanguage() {
        const L = translations[currentLang];
        pageTitle.textContent = L.pageTitle;
        mainTitle.textContent = L.mainTitle;
        description.textContent = L.description;
        topicInput.placeholder = L.placeholder;
        generateBtn.textContent = L.button;
        resetBtn.textContent = L.reset;
        const isRTL = currentLang === 'ar';
        document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
        document.body.style.direction = isRTL ? 'rtl' : 'ltr';
      }

      langSelect.addEventListener('change', (e) => { currentLang = e.target.value; applyLanguage(); });
      window.resetForm = function() { topicInput.value = ''; titlesDiv.innerHTML = ''; topicInput.classList.remove('error'); };
      resetBtn.addEventListener('click', resetForm);

      function copyToClipboard(text, btn) {
        if (!navigator.clipboard) {
          const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select(); try { document.execCommand('copy'); } catch (_) {} document.body.removeChild(ta); flashCopy(btn); return;
        }
        navigator.clipboard.writeText(text).then(() => flashCopy(btn)).catch(() => alert('Failed to copy'));
      }
      function flashCopy(btn) { const old = btn.innerHTML; btn.innerHTML = 'âœ…'; setTimeout(() => btn.innerHTML = old, 900); }

      async function generateTitles() {
        const L = translations[currentLang];
        const topic = topicInput.value.trim();
        if (!topic) { alert(L.alert); topicInput.classList.add('error'); return; }
        topicInput.classList.remove('error');
        titlesDiv.innerHTML = 'â³ Generating titles...';
        try {
          const response = await fetch('/api/generate', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ topic, language: currentLang }),
          });
          const data = await response.json();
          if (data.error) throw new Error(data.error);
          titlesDiv.innerHTML = data.titles
            .map((title) => `<div class="title-container">
              <div class="title-text">${title}</div>
              <button class="copy-btn" onclick="copyToClipboard('${title}', this)">ğŸ“‹</button>
            </div>`).join('');
        } catch (err) { titlesDiv.innerHTML = `<p style="color:red;">Error: ${err.message}</p>`; }
      }

      generateBtn.addEventListener('click', generateTitles);
      applyLanguage();
    });
  </script>
</body>
</html>
